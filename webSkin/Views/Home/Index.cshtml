@using ParseTry.Main
@{
	ViewData["Title"] = "Home Page";
}

@model SearchingClass

<div>
	<div>
		<div>
			<form method="post">
				<div>
					<input type="number" min="0.1" max="10000000" step="0.1" asp-for="minPrice" placeholder="Minimum Price" value="null" />
					-
					<input type="number" min="0.1" max="10000000" step="0.1" asp-for="maxPrice" placeholder="Maximum Price" value="null" />
				</div>
				<div>
					<select asp-for="Type">
						<option value="">All</option>
						<option value="Knives">Knives</option>
						<option value="Gloves">Gloves</option>
						<option value="Rifles">Rifles</option>
						<option value="Sniper Rifles">Sniper Rifles</option>
						<option value="Pistols">Pistols</option>
						<option value="SMGs">SMGs</option>
						<option value="Shotguns">Shotguns</option>
						<option value="Machineguns">Machineguns</option>
						<option value="Sticker">Stickers</option>
						<option value="Agent">Agents</option>
						<option value="Music kits">Music kits</option>
						<option value="Weapon Cases">Weapon Cases</option>
						<option value="Collectibles">Collectibles</option>
						<option value="Passes">Passes</option>
						<option value="Gifts">Gifts</option>
						<option value="Tools">Tools</option>
						<option value="Patch">Patches</option>
						<option value="Spray">Sprays</option>
					</select>
				</div>
				<div>
					<select asp-for="Exterior">
						<option value="">All</option>
						<option value="Factory New">Factory New</option>
						<option value="Minimal Wear">Minimal Wear</option>
						<option value="Field-Tested">Field-Tested</option>
						<option value="Well-Worn">Well-Worn</option>
						<option value="Battle-Scarred">Battle-Scarred</option>
					</select>
				</div>
				<div>
					<select asp-for="Sort">
						<option value="">None</option>
						<option value="order">Market popularity</option>
						<option value="orderDescending">Market popularity descending</option>
					</select>
				</div>
				<div>
					<input type="number" min="0.01" max="100" step="0.01" asp-for="minMB" placeholder="Minimum MB" value="null" />
					-
					<input type="number" min="0.01" max="100" step="0.01" asp-for="maxMB" placeholder="Maximum MB" value="null" />
				</div>
				<div>
					<input type="number" min="0.01" max="100" step="0.01" asp-for="minBM" placeholder="Minimum BM" value="null" />
					-
					<input type="number" min="0.01" max="100" step="0.01" asp-for="maxBM" placeholder="Maximum BM" value="null" />
				</div>
				<button type="submit" asp-controller="Home" asp-action="Index">Применить</button>
				<button type="submit" asp-controller="Home" asp-action="Index" asp-route-reset="Reset">Сброс</button>
			</form>
		</div>

		<div>
			<table class="table">
				<thead>
					<tr>
						<th scope="col">Image</th>
						<th scope="col">Name</th>
						<th scope="col">Buff price</th>
						<th scope="col">Market price</th>
						<th scope="col">Buff url</th>
						<th scope="col">Market url</th>
						<th scope="col">Buff popularity</th>
						<th scope="col">Market popularity</th>
						<th scope="col">BM</th>
						<th scope="col">MB</th>
					</tr>
				</thead>
				<tbody>
					@foreach (ResultItem skin in ViewBag.IndexViewModel.Items)
					{
						<tr>
							<td><img width="50px" height="50px" src="@skin.buff_original_icon_url" /></td>
							<td>@skin.hash_name</td>
							<td>@skin.buff_sell_min_price</td>
							<td>@skin.market_price</td>
							<td><a href="@skin.buff_url_buff" target="_blank">Buff</a></td>
							<td><a href="@skin.market_url" target="_blank">Market</a></td>
							<td>@skin.buff_sell_num</td>
							<td>@skin.market_popularity_7d</td>
							<td>@skin.pricesBM</td>
							<td>@skin.pricesMB</td>
						</tr>
					}
				</tbody>
			</table>
			@if (ViewBag.IndexViewModel.PageViewModel.HasPreviousPage)
			{
				<a asp-action="Index"
				   asp-route-page="@(ViewBag.IndexViewModel.PageViewModel.PageNumber - 1)"
				   class="btn btn-outline-dark">
					<i class="glyphicon glyphicon-chevron-left"></i>
					Назад
				</a>
			}
			@if (ViewBag.IndexViewModel.PageViewModel.HasNextPage)
			{
				<a asp-action="Index"
				   asp-route-page="@(ViewBag.IndexViewModel.PageViewModel.PageNumber + 1)"
				   class="btn btn-outline-dark">
					Вперед
					<i class="glyphicon glyphicon-chevron-right"></i>
				</a>
			}
		</div>
	</div>
</div>